<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Useful Commands for Linux Server Monitoring</title>
   <meta name="author" content="Zach Bruhnke" />

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/blog/css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="/blog/css/bootstrap.min.css" type="text/css" />
   <link rel="stylesheet" href="/blog/css/font-awesome.min.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/blog/css/screen.css" type="text/css" media="screen, projection" />

</head>
<body>
  <nav class="navbar navbar-default navbar-fixed-top" role='navigation'>
    <div class='container'>
      <ul class='nav navbar-nav navbar-right'>
        <div class='navbar-call-to-action'>
          <div class='center'>
            Stop reading complex commands! <a class='btn btn-primary' href='/'>Get a Free Dazhboard!</a>
          </div>
        </div>
      </ul>
    </div>
  </nav>
  
  <div class='container-fluid'><div class='row'>
  <div class='col-sm-3'>
    <ul class='list-unstyled list-tree'>
      
        <li><a>Nginx</a>
          <ul class='list-unstyled'>
            
              
                
              
            
              
                
                  <li><a href="/blog/commands-for-linux-server-troubleshooting.html">Commands for Linux Server Troubleshooting</a></li>
                
              
                
                  <li><a href="/blog/useful-commands-for-linux-server-monitoring.html">Useful Commands for Linux Server Monitoring</a></li>
                
              
                
                  <li><a href="/blog/nginx-stub-status-explanation.html">Nginx Stub Status Explanation</a></li>
                
              
                
                  <li><a href="/blog/installing-nginx-in-linux-from-source.html">Installing Nginx in Linux from Source</a></li>
                
              
            
          </ul>
        </li>
      
    </ul>
  </div>
  <div class='col-sm-9'>
    <h1>Useful Commands for Linux Server Monitoring</h1>

<h2>Disk Space Usage</h2>

<p>Run below command to see your local drives</p>

<pre><code class="shell">df -kl
</code></pre>

<p>output is like:</p>

<pre><code class="shell">Filesystem     1K-blocks    Used Available Use% Mounted on
/dev/xvda       98760300 5259008  92498404   6% /
tmpfs            2048368       0   2048368   0% /dev/shm
</code></pre>

<div class='alert alert-info alert-tip'>
All the numbers are in kbyte, if you want in GB you can do <code>df -lBG</code>.
</div>


<h2>Process Monitoring</h2>

<p><code>top</code> provides an ongoing look at processor activity in real time. It displays a listing of the most CPU-intensive tasks on the system.</p>

<p>Once you run <code>top</code> to watch the on going list, you can stop it by <strong>Ctrl+c</strong>.</p>

<p>You can use <code>top</code> for these reasons:</p>

<h3>Get current time, uptime, logged in users</h3>

<pre><code class="shell">top -bn1 | head -n1 | tail -1f
</code></pre>

<p>Output is like this:</p>

<pre><code class="shell">top - 15:48:43 up 131 days,  3:13,  1 user,  load average: 0.00, 0.03, 0.05
</code></pre>

<ul>
<li><strong>current time</strong>: 15:48:43</li>
<li><strong>uptime of machine</strong>: 131</li>
<li><strong>logged in users</strong>: 1</li>
</ul>


<h3>Processes information</h3>

<pre><code class="shell">top -bn1 | head -n2 | tail -1f
</code></pre>

<p>Output is like this:</p>

<pre><code class="shell">Tasks: 113 total,   1 running, 112 sleeping,   0 stopped,   0 zombie
</code></pre>

<ul>
<li><strong>Total processes</strong>: 113</li>
<li><strong>Running processes</strong>: 1</li>
<li><strong>Sleeping processes</strong>: 112</li>
<li><strong>Stopped processes</strong>: 0</li>
<li><strong>Zombie processes</strong>: 0, Processes waiting for its parent process to read its exit status</li>
</ul>


<h3>CPU usage</h3>

<pre><code class="shell">top -bn1 | head -n3 | tail -1f
</code></pre>

<p>Output is like this:</p>

<pre><code class="shell">Cpu(s):  0.1%us,  0.2%sy,  0.0%ni, 99.6%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
</code></pre>

<ul>
<li><strong>User processes</strong>: 0.1%us, this is the amount of actual CPU time spent in user-mode code (outside the kernel) within the process.</li>
<li><strong>System processes</strong>: 0.2%sy, it is the amount of CPU time spent in the kernel within the process (library code is part of user-mode).</li>
<li><strong>Nice processes</strong>: 0.0%ni</li>
<li><strong>Not used percentage</strong>: 99.6%id</li>
<li><strong>Percentage of CPU processes waiting for IO processes</strong>: 0.0%wa</li>
<li><strong>Percentage of CPU served on hardware interrupts</strong>: 0.0%hi, hardware interrupts are generated by hardware devices (network cards, keyboard controller, external timer, hardware senors, ...) when they need to signal something to the CPU (data has arrived for example).</li>
<li><strong>Percentage of CPU served on software interrupts</strong>: 0.0%si</li>
<li><strong>Percentage of CPU stolen from virtual machine</strong>: 0.0%st, it represents time when the real CPU was not available to the current virtual machine</li>
</ul>


<h3>Top 5 processes by memory usage</h3>

<pre><code class="shell">top -bn1 -m | head -n12 | tail -7f
</code></pre>

<h2>Memory summary</h2>

<pre><code class="shell">free -m
</code></pre>

<p><strong>-m</strong> will show all numbers in MB.</p>

<p>Output is like this:</p>

<pre><code class="shell">             total   used   free  shared  buffers   cached
Mem:          4000   3370    629       0      242      280
-/+ buffers/cache:   2847   1152
Swap:          255      1    254
</code></pre>

<ul>
<li><strong>Total Memory</strong>: 4000, memory/physical RAM available for your machine.</li>
<li><strong>Used Memory</strong>: 3370,  memory/physical RAM used by system. This include even buffers and cached data size as well.</li>
<li><strong>Free Memory</strong>: 629, Total free and available RAM for new process to run.</li>
<li><strong>Shared Memory</strong>: 0, it is obsolete and may be removed in future releases of free.</li>
<li><strong>Buffered Memory</strong>: 242, total RAM buffered by different applications in Linux</li>
<li><strong>Cached Memory</strong>: 280, total RAM used for caching of data for future purpose.</li>
<li><strong>Actual Used Memory</strong>: 2847, <strong>Used Memory - (Buffered Memory+Cached Memory)</strong></li>
<li><strong>Actual Total Available Memory</strong>: 1152, <strong>Total Memory - Actual Used Memory</strong></li>
</ul>


  </div>
</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>19 Sep 2014</span> &raquo; <a href="/blog/commands-for-linux-server-troubleshooting.html">Commands for Linux Server Troubleshooting</a></li>
    
      <li><span>14 Sep 2014</span> &raquo; <a href="/blog/nginx-stub-status-explanation.html">Nginx Stub Status Explanation</a></li>
    
      <li><span>13 Sep 2014</span> &raquo; <a href="/blog/installing-nginx-in-linux-from-source.html">Installing Nginx in Linux from Source</a></li>
    
  </ul>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'dazhboard'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

</div>

<!-- Google Analytics -->

<!-- Google Analytics end -->

</body>
</html>
